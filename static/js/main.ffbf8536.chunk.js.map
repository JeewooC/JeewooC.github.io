{"version":3,"sources":["contexts/user.js","firebase.js","services/auth.js","components/signin-btn/index.js","components/comment/index.js","containers/navbar/index.js","containers/create-post/index.js","helper/functions.js","containers/post/index.js","containers/feed/index.js","pages/home/index.js","App.js","reportWebVitals.js","index.js"],"names":["UserContext","createContext","UserContextProvider","props","useState","user","setUser","Provider","value","children","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","provider","GoogleAuthProvider","signInWithGoogle","a","signInWithPopup","then","res","console","log","catch","error","message","SignInBtn","useContext","signInBtnClick","className","onClick","Comment","username","caption","style","fontWeight","marginRight","Navbar","src","alt","height","photoURL","CreatePost","setCaption","image","setImage","progress","setProgress","rows","placeholder","onChange","e","target","id","htmlFor","cursor","type","accept","files","selectedImageSrc","URL","createObjectURL","imagePreview","document","getElementById","display","imageName","length","result","characters","charactersLength","i","charAt","Math","floor","random","makeid","ref","put","on","snapshot","round","bytesTransferred","totalBytes","child","getDownloadURL","url","collection","add","timestamp","FieldValue","serverTimestamp","email","replace","photoUrl","color","marginLeft","Post","profileUrl","comments","map","comment","Feed","posts","setPosts","useEffect","onSnapshot","docs","doc","post","data","Home","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ffbf8536.chunk.js","sourcesContent":["import { createContext, useState} from 'react'\n\nexport const UserContext = createContext();\nexport const UserContextProvider = (props) => {\n    const [user, setUser] = useState(null);\n\n    return (\n        <UserContext.Provider value={{ user: [user, setUser] }}>\n            {props.children}\n        </UserContext.Provider>\n    )\n}","import firebase from 'firebase'\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBrE6LUNKCtFgvaLjNKEZTfJlpKofHMlqk',\n  authDomain: 'viridi-c4949.firebaseapp.com',\n  projectId: 'viridi-c4949',\n  storageBucket: 'viridi-c4949.appspot.com',\n  messagingSenderId: '813233171406',\n  appId: '1:813233171406:web:2b02551aff42907ecd199f',\n  measurementId: 'G-NTDH7V69M2',\n}\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\nconst db = firebaseApp.firestore()\nconst auth = firebase.auth()\nconst storage = firebase.storage()\nconst provider = new firebase.auth.GoogleAuthProvider()\n\nexport { db, auth, storage, provider }\n\n","import { auth, provider } from \"../firebase\"\n\nexport const signInWithGoogle = async () => {\n    let user;\n    await auth.signInWithPopup(provider).then((res) => {\n        console.log(res.user);\n        user = res.user;\n    }).catch((error) => {\n        console.log(error.message);\n    });\n\n    return user;\n};\n\nexport const logout = async () => {\n    let logout_success;\n    await auth.signOut().then(() => {\n        logout_success = true;\n    }).catch((error) => {\n        console.log(error.message);\n    });\n\n    return logout_success;\n}","import React, { useContext } from 'react'\nimport { UserContext } from '../../contexts/user';\nimport { signInWithGoogle } from '../../services/auth'\nimport \"./style.css\"\n\nexport default function SignInBtn() {\n    const [user, setUser] = useContext(UserContext).user; \n\n    const signInBtnClick = async () => {\n        let user = await signInWithGoogle();\n        if (user) setUser(user);\n        console.log(user)\n    };\n\n    return (\n        <div className=\"signInBtn\" onClick={signInBtnClick}>\n            <p>Sign In With Google</p>\n        </div>\n    );\n}","import React from \"react\";\nimport \"./style.css\";\n\nexport default function Comment({ username, caption }) {\n  return (\n    <div className=\"comment\">\n      <p>\n        <span style={{ fontWeight: \"500\", marginRight: \"4px\"}}>\n          {username}\n        </span>\n        {caption}\n      </p>\n    </div>\n  );\n}","import React, { useContext, useState } from 'react'\nimport \"./style.css\"\nimport { SignInBtn } from '../../components'\nimport { UserContext } from '../../contexts/user';\n\nexport default function Navbar() {\n\n    const [user, setUser] = useContext(UserContext).user;\n\n    return (\n        <div className=\"navbar\">\n            <div className=\"titleBox\">\n                <img src=\"https://svgur.com/i/VVY.svg\" alt=\"logo\" height=\"50\" />\n                <p className=\"title\">Viridi</p>\n            </div>\n            \n\n           {user ? (\n               <div className=\"verticalCenter\">\n                    <img src={user.photoURL} className=\"profilePhoto\"/> \n                </div>\n           ) : <SignInBtn />}\n        </div>\n    )\n}\n","import React from 'react'\nimport \"./style.css\"\nimport { SignInBtn } from '../../components'\nimport { useContext, useState } from 'react';\nimport {UserContext} from \"../../contexts/user\"\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto'\nimport makeid from \"../../helper/functions\"\nimport { db, storage } from '../../firebase';\nimport firebase from \"firebase\"\nexport default function CreatePost() {\n    const [user, setUser] = useContext(UserContext).user\n    const [caption, setCaption] = useState(\"\");\n    const[image, setImage] = useState(null);\n    const [progress, setProgress] = useState(0)\n    const handleChange = (e) =>{\n        if(e.target.files[0]){\n            setImage(e.target.files[0]);\n\n            var selectedImageSrc = URL.createObjectURL(e.target.files[0]);\n\n            var imagePreview = document.getElementById(\"image-preview\");\n            imagePreview.src = selectedImageSrc;\n\n            imagePreview.style.display = \"block\";\n\n        }\n    }\n    const handleUpload = () =>{\n        if(image){\n            var imageName = makeid(10)\n            const uploadTask = storage.ref(`images/${imageName}.jpg`)\n            .put(image)\n\n            uploadTask.on(\"state_changed\", (snapshot)=>{\n                \n                const progress = Math.round((snapshot.bytesTransferred/snapshot.totalBytes) * 100)\n\n                setProgress(progress);\n            }, (error) =>{\n                console.log(error);\n            },\n            () =>{\n                storage.ref(\"images\").child(`${imageName}.jpg`)\n                .getDownloadURL()\n                .then((url) => {\n                     db.collection(\"posts\").add({\n                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                        caption: caption,\n                        username: user.email.replace(\"@gmail.com\", \"\"),\n                        photoUrl: url\n                        \n                    })\n\n                }) \n                setCaption(\"\")\n                setProgress(0)\n                setImage(null)\n            }\n            \n            )\n        }\n\n    }\n    return (\n        <div className=\"createPost\">\n            {user ? (<div className =\"createPost__loggedIn\">\n                <p> Create Post</p>\n                <div className=\"createPost__loggedInCenter\">\n                    <textarea className = \"createPost__textArea\"\n                    rows =\"3\"\n                    placeholder =\"Enter caption here...\"\n                    value={caption}\n                    onChange={(e)=>setCaption(e.target.value)}\n                    >    \n                    </textarea>\n                    <div className =\"createPost__imagePreview\">\n                        <img id=\"image-preview\" alt=\"\" />\n                        </div>\n                </div>\n             <div className=\"createPost_loggedInBottom\">\n             <div className=\"createPost__imageUpload\">\n                    <label htmlFor=\"fileInput\">\n                <AddAPhotoIcon style ={{cursor: \"pointer\" }}/>\n                </label>\n                <input id =\"fileInput\" type =\"file\" accept =\"image/*\" onChange={handleChange}/>\n\n                </div>\n                <button className = \"createPost__uploadButton\" onClick={handleUpload} style ={{color: caption ? \"#000\" : \"lightgray'\"}}>\n                    {`Upload ${progress !== 0 ? progress : \"\"}`}\n                </button>\n             </div>\n\n                </div>) : (\n            <div>\n            <SignInBtn />\n            <p style={{marginLeft: \"12px\"}}> to Post or Comment</p>\n            </div>\n            )}\n            \n        </div>\n    )\n}\n","export default function makeid(length) {\n   var result           = '';\n   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n   var charactersLength = characters.length;\n   for ( var i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n   }\n   return result;\n}","import React, { useContext, useState } from 'react'\nimport { Comment } from '../../components'\nimport { UserContext } from '../../contexts/user'\nimport { db, storage } from '../../firebase'\nimport \"./style.css\"\nexport default function Post({ profileUrl,id, username, caption, comments, photoUrl }) {\n    \n    const [user, setUser] = useContext(UserContext).user;\n\n    const deletePost = () =>{\n        var imageref = storage.refFromUrl(photoUrl)\n\n        imageref.delete().then(function(){\n            console.log(\"delete successful\")\n        }).catch(function(error){\n            console.log(`Error ${error}`)\n        })\n        db.collection(\"posts\").doc(id).delete().then(function(){\n            console.log(\"delete successful\")\n        }).catch(function(error){\n            console.log(`Error post info delete ${error}`)\n\n        })\n    }\n    return (\n        <div className=\"post\">\n            <div className=\"post__header\">\n                <div className=\"post__headerLeft\">\n                    <img className = \"post__headerprofilePic\" src={profileUrl}></img>\n                </div>\n                <p style={{marginRight:\"450px\"}}>{username} </p>\n                {user && user.email.replace(\"@gmail.com\", \"\") == username ?\n                <button className=\"post__delete\">Delete</button> :\n                (<></>)}\n            </div>\n            <div className=\"post__center\">\n                <img className=\"post__photoUrl\" src={photoUrl}/>\n            </div>\n            <div className=\"post__caption\">\n                <p><span style={{fontWeight:\"500\", marginRight: \"4px\"}}>{username}</span>{caption}</p>\n            </div>\n            {comments ? comments.map((comment) => \n            <Comment username={comment.username} caption ={comment.comment}/> ) : (\n            <></>\n            )}\n        </div>\n    )\n}\n","import { PostAddSharp } from \"@material-ui/icons\";\nimport { db } from \"../../firebase\";\nimport Post from \"../post\";\nimport{useState, useEffect} from 'react'\n\nexport default function Feed() {\n    const [posts, setPosts] = useState([]);\n    useEffect(()=>{\n        db.collection(\"posts\").onSnapshot((snapshot) =>\n        {\n            setPosts(snapshot.docs.map((doc) => ({id: doc.id, post: doc.data()})))\n        })\n\n    }, [])\n    return (\n        <div className=\"feed\">\n            {posts.map(({id, post})=>{\n\n            return (<Post \n                    key ={id}\n                    id={id}\n                    profileUrl={post.profileUrl}\n                    username={post.username}\n                    photoUrl={post.photoUrl}\n                    caption={post.caption}\n                />\n            )}\n        )}\n        </div>\n    \n    )\n}\n","import React from 'react'\nimport \"./style.css\"\nimport { CreatePost, Navbar, Post } from '../../containers'\nimport Feed from '../../containers/feed'\n\nexport default function Home() {\n    return (\n        <div className=\"home\">\n           <Navbar />\n           <CreatePost />\n           <Feed/>\n         </div>\n    )\n}\n","import './App.css';\nimport { UserContextProvider } from './contexts/user';\nimport { Home } from './pages';\n\nfunction App() {\n  return (\n    <UserContextProvider>\n      <div className=\"App\">\n        <Home />\n      </div>\n    </UserContextProvider>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}